{% extends "dashboard.html" %}

{% block overview%}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

<div class = "container-1">
<h1>Veranstaltung erstellen </h1>

<form method="POST">
    {{ form.hidden_tag() }}
    
    {{ form.title.label(class="form-label") }}  
    {{ form.title(class="form-control") }}
    <br>
    {{ form.date.label(class="form-label") }}  
    {{ form.date(class="form-control") }}
    <br>
    {{ form.time.label(class="form-label") }}  
    {{ form.time(class="form-control") }}     
    <br>
    {{ form.address.label(class="form-label") }}  
    {{ form.address(class="form-control") }}
    <br>
    {{ form.Teilnehmer.label(class="form-label") }}  
    {{ form.Teilnehmer(class="form-control") }}
    <br>

    <h3>Was d체rfen Ihre G채ste mitbringen?</h3>
    <form method="POST">
        <div class="input-wrapper">
            <div><br/>
            <input type="text" name="field[]" value=""/>
            <a href="javascript:void(0);" class="add-input" title="Add input"> <img src="/static/plus.png"/></a>
            </div>
        </div>
    <input type="submit" name="cmdsubmit">

    </form>
    
    <br>
    {{ form.submit() }}
    <a href="/dashboard" class="btn btn-secondary">Cancel</a>
    
    {% for field, errors in form.errors.items() %}
    <small class="form-text text-muted ">
        {{ ', '.join(errors) }}
    </small>
    {% endfor %}
</div>
</form>

<!-- Jquery Skript f체r dynamisches Hinzuf체gen und Entfernen vol Elementen aus der Zutatenliste-->
<script>

    $(document).ready(function(){
        var max_input_fields = 30;
        var add_input = $('.add-input');
        var input_wrapper = $('.input-wrapper');
        var new_input = '<div><input type="text" name="field[]" value=""/><a href="javascript:void(0);" class="remove-input" title="Remove input"><img src="/static/minus.png"/></a></div>';
        var add_input_count = 1; 
        $(add_input).click(function(){
            if(add_input_count < max_input_fields){
                add_input_count++; 
                $(input_wrapper).append(new_input); 
            }
        });
        $(input_wrapper).on('click', '.remove-input', function(e){
            e.preventDefault();
            $(this).parent('div').remove();
            add_input_count--;
        });
    });
    </script>

{% endblock %}